{-# LANGUAGE OverloadedStrings #-}

module InterpretorSpec (spec) where

import Interpretor
import Buildings
import Coord
import Magic

import qualified Data.ByteString.Lazy as B
import qualified Data.IntMap          as M
import qualified Data.PQueue.Min      as PQ
import qualified Data.Vector.Unboxed  as UV

import Test.Hspec

spec :: Spec
spec = do
    describe "parseStateString" $ do
        it "should parse a state string with an empty map correctly" $
          parseStateString simpleStateString `shouldBe` expectedSimpleStateString
        it "should parse a state string with a map with finished towers correctly" $
          parseStateString stateStringWithFinishedTowers `shouldBe` expectedWithFinishedTowersStateString
        it "should parse a state string with a map with finished towers and towers which are under construction correctly" $
          parseStateString stateStringWithFinishedAndUnfinishedTowers `shouldBe` expectedWithFinishedAndUnfinishedTowersStateString
        it "should parse a state string with a map with finished towers, towers under which are under construction and missiles" $
          parseStateString stateStringWithFinishedAndUnfinishedTowersAndMissiles `shouldBe` expectedWithFinishedAndUnfinishedTowersStateStringAndMissiles

simpleStateString :: B.ByteString
simpleStateString = "{\"gameDetails\": {\"round\": 11,\"maxRounds\": 400,\"mapWidth\": 16,\"mapHeight\": 8,\"roundIncomeEnergy\": 5,\"buildingPrices\": {\"TESLA\": 300,\"DEFENSE\": 30,\"ATTACK\": 30,\"ENERGY\": 20},\"buildingsStats\": {\"TESLA\": {\"health\": 5,\"constructionTime\": 11,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 10,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"DEFENSE\": {\"health\": 20,\"constructionTime\": 4,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ATTACK\": {\"health\": 5,\"constructionTime\": 2,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 1,\"weaponCooldownPeriod\": 3,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ENERGY\": {\"health\": 5,\"constructionTime\": 2,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 1}}},\"players\": [{\"playerType\": \"A\",\"energy\": 37,\"health\": 30,\"hitsTaken\": 14,\"score\": 451},{\"playerType\": \"B\",\"energy\": 53,\"health\": 100,\"hitsTaken\": 0,\"score\": 2093}],\"gameMap\": []}"

expectedSimpleStateString :: GameState
expectedSimpleStateString =
  (GameState { gameRound = 11,
               me        = (Player { energy             = 37,
                                     energyGenPerTurn   = 0,
                                     health             = 30,
                                     energyTowersPerRow = UV.fromList (replicate height 0),
                                     attackTowersPerRow = UV.fromList (replicate height 0),
                                     towerMap           = M.empty,
                                     constructionQueue  = PQ.empty,
                                     ownedMissiles      = UV.empty }),
               oponent   = (Player { energy             = 53,
                                     energyGenPerTurn   = 0,
                                     health             = 100,
                                     energyTowersPerRow = UV.fromList (replicate height 0),
                                     attackTowersPerRow = UV.fromList (replicate height 0),
                                     towerMap           = M.empty,
                                     constructionQueue  = PQ.empty,
                                     ownedMissiles      = UV.empty })})
  
stateStringWithFinishedTowers :: B.ByteString
stateStringWithFinishedTowers = "{\"gameDetails\": {\"round\": 11,\"maxRounds\": 400,\"mapWidth\": 16,\"mapHeight\": 8,\"roundIncomeEnergy\": 5,\"buildingPrices\": {\"TESLA\": 300,\"DEFENSE\": 30,\"ATTACK\": 30,\"ENERGY\": 20},\"buildingsStats\": {\"TESLA\": {\"health\": 5,\"constructionTime\": 11,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 10,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"DEFENSE\": {\"health\": 20,\"constructionTime\": 4,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ATTACK\": {\"health\": 5,\"constructionTime\": 2,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 1,\"weaponCooldownPeriod\": 3,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ENERGY\": {\"health\": 5,\"constructionTime\": 2,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 1}}},\"players\": [{\"playerType\": \"A\",\"energy\": 37,\"health\": 30,\"hitsTaken\": 14,\"score\": 451},{\"playerType\": \"B\",\"energy\": 53,\"health\": 100,\"hitsTaken\": 0,\"score\": 2093}],\"gameMap\": [[{\"x\": 0,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 0,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 0,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 3,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 4,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 5,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 6,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 2,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 2,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 0,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 5,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 3,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 4,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 5,\"buildings\": [{\"health\": 15,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 10,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 11,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 12,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 13,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"}]]}"

expectedWithFinishedTowersStateString :: GameState
expectedWithFinishedTowersStateString =
  (GameState { gameRound = 11,
               me        = (Player { energy             = 37,
                                     health             = 30,
                                     energyGenPerTurn   = 6,
                                     energyTowersPerRow = UV.fromList [0, 0, 0, 2, 0, 0, 0, 0],
                                     attackTowersPerRow = UV.fromList (replicate height 0),
                                     towerMap           = M.fromList [((toCoord 1 1), Defense4),
                                                                      ((toCoord 3 1), Defense2),
                                                                      ((toCoord 4 1), Defense4),
                                                                      ((toCoord 5 1), Defense4),
                                                                      ((toCoord 6 1), Defense2),
                                                                      ((toCoord 1 2), Defense1),
                                                                      ((toCoord 0 3), EnergyTower),
                                                                      ((toCoord 5 3), EnergyTower)],
                                                        constructionQueue = PQ.empty,
                                                        ownedMissiles     = UV.empty }),
               oponent   = (Player { energy             = 53,
                                     health             = 100,
                                     energyGenPerTurn   = 21,
                                     energyTowersPerRow = UV.fromList [1, 1, 1, 1, 1, 1, 1, 0],
                                     attackTowersPerRow = UV.fromList [0, 1, 1, 0, 1, 6, 1, 0],
                                     towerMap           = M.fromList [((toCoord 8 0), Defense4),
                                                                      ((toCoord 15 0), EnergyTower),
                                                                      ((toCoord 14 1), Attack2),
                                                                      ((toCoord 15 1), EnergyTower),
                                                                      ((toCoord 8 2), Defense4),
                                                                      ((toCoord 14 2), Attack3),
                                                                      ((toCoord 15 2), EnergyTower),
                                                                      ((toCoord 15 3), EnergyTower),
                                                                      ((toCoord 8 4), Defense4),
                                                                      ((toCoord 9 4), Attack1),
                                                                      ((toCoord 15 4), EnergyTower),
                                                                      ((toCoord 8 5), Defense4),
                                                                      ((toCoord 9 5), Attack1),
                                                                      ((toCoord 10 5), Attack0),
                                                                      ((toCoord 11 5), Attack2),
                                                                      ((toCoord 12 5), Attack3),
                                                                      ((toCoord 13 5), Attack0),
                                                                      ((toCoord 14 5), Attack2),
                                                                      ((toCoord 15 5), EnergyTower),
                                                                      ((toCoord 9 6), Attack3),
                                                                      ((toCoord 15 6), EnergyTower)],
                                     constructionQueue  = PQ.empty,
                                     ownedMissiles      = UV.empty })})

stateStringWithFinishedAndUnfinishedTowers :: B.ByteString
stateStringWithFinishedAndUnfinishedTowers = "{\"gameDetails\": {\"round\": 11,\"maxRounds\": 400,\"mapWidth\": 16,\"mapHeight\": 8,\"roundIncomeEnergy\": 5,\"buildingPrices\": {\"TESLA\": 300,\"DEFENSE\": 30,\"ATTACK\": 30,\"ENERGY\": 20},\"buildingsStats\": {\"TESLA\": {\"health\": 5,\"constructionTime\": 11,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 10,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"DEFENSE\": {\"health\": 20,\"constructionTime\": 4,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ATTACK\": {\"health\": 5,\"constructionTime\": 2,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 1,\"weaponCooldownPeriod\": 3,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ENERGY\": {\"health\": 5,\"constructionTime\": 2,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 1}}},\"players\": [{\"playerType\": \"A\",\"energy\": 37,\"health\": 30,\"hitsTaken\": 14,\"score\": 451},{\"playerType\": \"B\",\"energy\": 53,\"health\": 100,\"hitsTaken\": 0,\"score\": 2093}],\"gameMap\": [[{\"x\": 0,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 0,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 0,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": 1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 0,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 3,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 4,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 5,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 6,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 2,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 2,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 0,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 5,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 0,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 10,\"destroyMultiplier\": 1,\"constructionScore\": 1,\"energyGeneratedPerTurn\": 0,\"maxRange\": 9,\"buildingType\": \"TESLA\",\"energyPerShot\": 100,\"x\": 7,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 1,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 10,\"destroyMultiplier\": 1,\"constructionScore\": 1,\"energyGeneratedPerTurn\": 0,\"maxRange\": 9,\"buildingType\": \"TESLA\",\"energyPerShot\": 100,\"x\": 8,\"y\": 3,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 3,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 4,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 5,\"buildings\": [{\"health\": 15,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 10,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 11,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 12,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 13,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 6,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": 0,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 0,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 10,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"}]]}"

expectedWithFinishedAndUnfinishedTowersStateString :: GameState
expectedWithFinishedAndUnfinishedTowersStateString =
  (GameState { gameRound = 11,
               me        = (Player { energy             = 37,
                                     health             = 30,
                                     energyGenPerTurn   = 6,
                                     energyTowersPerRow = UV.fromList [0, 0, 0, 2, 0, 0, 0, 0],
                                     attackTowersPerRow = UV.fromList (replicate height 0),
                                     towerMap           = M.fromList [((toCoord 1 1), Defense4),
                                                                      ((toCoord 3 1), Defense2),
                                                                      ((toCoord 4 1), Defense4),
                                                                      ((toCoord 5 1), Defense4),
                                                                      ((toCoord 6 1), Defense2),
                                                                      ((toCoord 1 2), Defense1),
                                                                      ((toCoord 0 3), EnergyTower),
                                                                      ((toCoord 5 3), EnergyTower)],
                                     constructionQueue = PQ.fromList [(0, (toCoord 7 3), tesla0),
                                                                       (1, (toCoord 0 1), Defense4)],
                                                        ownedMissiles = UV.empty }),
               oponent   = (Player { energy             = 53,
                                     health             = 100,
                                     energyGenPerTurn   = 21,
                                     energyTowersPerRow = UV.fromList [1, 1, 1, 1, 1, 1, 1, 0],
                                     attackTowersPerRow = UV.fromList [0, 1, 1, 0, 1, 6, 2, 0],
                                     towerMap           = M.fromList [((toCoord 8 0), Defense4),
                                                                      ((toCoord 15 0), EnergyTower),
                                                                      ((toCoord 14 1), Attack2),
                                                                      ((toCoord 15 1), EnergyTower),
                                                                      ((toCoord 8 2), Defense4),
                                                                      ((toCoord 14 2), Attack3),
                                                                      ((toCoord 15 2), EnergyTower),
                                                                      ((toCoord 15 3), EnergyTower),
                                                                      ((toCoord 8 4), Defense4),
                                                                      ((toCoord 9 4), Attack1),
                                                                      ((toCoord 15 4), EnergyTower),
                                                                      ((toCoord 8 5), Defense4),
                                                                      ((toCoord 9 5), Attack1),
                                                                      ((toCoord 10 5), Attack0),
                                                                      ((toCoord 11 5), Attack2),
                                                                      ((toCoord 12 5), Attack3),
                                                                      ((toCoord 13 5), Attack0),
                                                                      ((toCoord 14 5), Attack2),
                                                                      ((toCoord 15 5), EnergyTower),
                                                                      ((toCoord 9 6), Attack3),
                                                                      ((toCoord 15 6), EnergyTower)],
                                     constructionQueue  = PQ.fromList [(0, (toCoord 8 6), Defense4),
                                                                       (0, (toCoord 10 6), Attack0),
                                                                       (1, (toCoord 8 3), tesla0)],
                                     ownedMissiles      = UV.empty })})

stateStringWithFinishedAndUnfinishedTowersAndMissiles :: B.ByteString
stateStringWithFinishedAndUnfinishedTowersAndMissiles = "{\"gameDetails\": {\"round\": 11,\"maxRounds\": 400,\"mapWidth\": 16,\"mapHeight\": 8,\"roundIncomeEnergy\": 5,\"buildingPrices\": {\"TESLA\": 300,\"DEFENSE\": 30,\"ATTACK\": 30,\"ENERGY\": 20},\"buildingsStats\": {\"TESLA\": {\"health\": 5,\"constructionTime\": 11,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 10,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"DEFENSE\": {\"health\": 20,\"constructionTime\": 4,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ATTACK\": {\"health\": 5,\"constructionTime\": 2,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 1,\"weaponCooldownPeriod\": 3,\"energyGeneratedPerTurn\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 1},\"ENERGY\": {\"health\": 5,\"constructionTime\": 2,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownPeriod\": 0,\"energyGeneratedPerTurn\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 1}}},\"players\": [{\"playerType\": \"A\",\"energy\": 37,\"health\": 30,\"hitsTaken\": 14,\"score\": 451},{\"playerType\": \"B\",\"energy\": 53,\"health\": 100,\"hitsTaken\": 0,\"score\": 2093}],\"gameMap\": [[{\"x\": 0,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 0,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 0,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 0,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 0,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": 1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 0,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 3,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 4,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 1,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 5,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 1,\"buildings\": [{\"health\": 10,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 6,\"y\": 1,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 1,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 10,\"y\": 1,\"playerType\": \"B\"},{\"damage\": 5,\"speed\": 2,\"x\": 10,\"y\": 1,\"playerType\": \"A\"},{\"damage\": 5,\"speed\": 2,\"x\": 10,\"y\": 1,\"playerType\": \"A\"}],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 1,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 1,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 1,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 1,\"y\": 2,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 2,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 4,\"y\": 2,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 2,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 2,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 12,\"y\": 2,\"playerType\": \"B\"}],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 2,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 2,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 2,\"playerType\": \"B\"}],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 15,\"y\": 2,\"playerType\": \"A\"}],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 0,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 5,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 0,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 10,\"destroyMultiplier\": 1,\"constructionScore\": 1,\"energyGeneratedPerTurn\": 0,\"maxRange\": 9,\"buildingType\": \"TESLA\",\"energyPerShot\": 100,\"x\": 7,\"y\": 3,\"playerType\": \"A\"}],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 1,\"price\": 300,\"weaponDamage\": 20,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 10,\"destroyMultiplier\": 1,\"constructionScore\": 1,\"energyGeneratedPerTurn\": 0,\"maxRange\": 9,\"buildingType\": \"TESLA\",\"energyPerShot\": 100,\"x\": 8,\"y\": 3,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 3,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 3,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 3,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 4,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 3,\"y\": 4,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 4,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 4,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 4,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 4,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 5,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 2,\"y\": 5,\"playerType\": \"B\"},{\"damage\": 5,\"speed\": 2,\"x\": 2,\"y\": 5,\"playerType\": \"B\"},{\"damage\": 5,\"speed\": 2,\"x\": 2,\"y\": 5,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 5,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 3,\"y\": 5,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 5,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 5,\"y\": 5,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 5,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 5,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 7,\"y\": 5,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 5,\"buildings\": [{\"health\": 15,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 1,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 10,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 10,\"y\": 5,\"playerType\": \"B\"},{\"damage\": 5,\"speed\": 2,\"x\": 10,\"y\": 5,\"playerType\": \"B\"}],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 11,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 12,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 13,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 2,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 14,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 5,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 5,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 6,\"buildings\": [],\"missiles\": [{\"damage\": 5,\"speed\": 2,\"x\": 7,\"y\": 6,\"playerType\": \"B\"}],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 6,\"buildings\": [{\"health\": 20,\"constructionTimeLeft\": 0,\"price\": 30,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 10,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"DEFENSE\",\"x\": 8,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 3,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 9,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": 0,\"price\": 30,\"weaponDamage\": 5,\"weaponSpeed\": 2,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 3,\"destroyMultiplier\": 1,\"constructionScore\": 15,\"energyGeneratedPerTurn\": 0,\"buildingType\": \"ATTACK\",\"x\": 10,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 6,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 6,\"buildings\": [{\"health\": 5,\"constructionTimeLeft\": -1,\"price\": 20,\"weaponDamage\": 0,\"weaponSpeed\": 0,\"weaponCooldownTimeLeft\": 0,\"weaponCooldownPeriod\": 0,\"destroyMultiplier\": 1,\"constructionScore\": 3,\"energyGeneratedPerTurn\": 3,\"buildingType\": \"ENERGY\",\"x\": 15,\"y\": 6,\"playerType\": \"B\"}],\"missiles\": [],\"cellOwner\": \"B\"}],[{\"x\": 0,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 1,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 2,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 3,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 4,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 5,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 6,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 7,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"A\"},{\"x\": 8,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 9,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 10,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 11,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 12,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 13,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 14,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"},{\"x\": 15,\"y\": 7,\"buildings\": [],\"missiles\": [],\"cellOwner\": \"B\"}]]}"

expectedWithFinishedAndUnfinishedTowersStateStringAndMissiles :: GameState
expectedWithFinishedAndUnfinishedTowersStateStringAndMissiles =
  (GameState { gameRound = 11,
               me        = (Player { energy             = 37,
                                     health             = 30,
                                     energyGenPerTurn   = 6,
                                     energyTowersPerRow = UV.fromList [0, 0, 0, 2, 0, 0, 0, 0],
                                     attackTowersPerRow = UV.fromList (replicate height 0),
                                     towerMap           = M.fromList [((toCoord 1 1), Defense4),
                                                                      ((toCoord 3 1), Defense2),
                                                                      ((toCoord 4 1), Defense4),
                                                                      ((toCoord 5 1), Defense4),
                                                                      ((toCoord 6 1), Defense2),
                                                                      ((toCoord 1 2), Defense1),
                                                                      ((toCoord 0 3), EnergyTower),
                                                                      ((toCoord 5 3), EnergyTower)],
                                     constructionQueue  = PQ.fromList [(0, (toCoord 7 3), tesla0),
                                                                       (1, (toCoord 0 1), Defense4)],
                                     ownedMissiles      = UV.fromList [
                                       (toCoord 15 2),
                                         (toCoord 10 1),
                                         (toCoord 10 1)
                                       ]}),
               oponent   = (Player { energy             = 53,
                                     health             = 100,
                                     energyGenPerTurn   = 21,
                                     energyTowersPerRow = UV.fromList [1, 1, 1, 1, 1, 1, 1, 0],
                                     attackTowersPerRow = UV.fromList [0, 1, 1, 0, 1, 6, 2, 0],
                                     towerMap           = M.fromList [((toCoord 8 0), Defense4),
                                                                      ((toCoord 15 0), EnergyTower),
                                                                      ((toCoord 14 1), Attack2),
                                                                      ((toCoord 15 1), EnergyTower),
                                                                      ((toCoord 8 2), Defense4),
                                                                      ((toCoord 14 2), Attack3),
                                                                      ((toCoord 15 2), EnergyTower),
                                                                      ((toCoord 15 3), EnergyTower),
                                                                      ((toCoord 8 4), Defense4),
                                                                      ((toCoord 9 4), Attack1),
                                                                      ((toCoord 15 4), EnergyTower),
                                                                      ((toCoord 8 5), Defense4),
                                                                      ((toCoord 9 5), Attack1),
                                                                      ((toCoord 10 5), Attack0),
                                                                      ((toCoord 11 5), Attack2),
                                                                      ((toCoord 12 5), Attack3),
                                                                      ((toCoord 13 5), Attack0),
                                                                      ((toCoord 14 5), Attack2),
                                                                      ((toCoord 15 5), EnergyTower),
                                                                      ((toCoord 9 6), Attack3),
                                                                      ((toCoord 15 6), EnergyTower)],
                                     constructionQueue  = PQ.fromList [(0, (toCoord 8 6), Defense4),
                                                                       (0, (toCoord 10 6), Attack0),
                                                                       (1, (toCoord 8 3), tesla0)],
                                     ownedMissiles      = UV.fromList [
                                       (toCoord 7 6),
                                         (toCoord 10 5),
                                         (toCoord 10 5),
                                         (toCoord 7 5),
                                         (toCoord 5 5),
                                         (toCoord 3 5),
                                         (toCoord 2 5),
                                         (toCoord 2 5),
                                         (toCoord 2 5),
                                         (toCoord 3 4),
                                         (toCoord 12 2),
                                         (toCoord 4 2),
                                         (toCoord 10 1)
                                       ] })})
